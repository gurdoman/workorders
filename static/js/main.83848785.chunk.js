(this.webpackJsonpworkorders=this.webpackJsonpworkorders||[]).push([[0],{40:function(e,t,r){e.exports=r(78)},45:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},53:function(e,t,r){},78:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(19),l=r.n(o),c=(r(45),r(46),r(7)),i=r(8),s=r(10),u=r(9),d=r(11),m=(r(47),r(38)),h=r(18),f=r(12),p=(r(48),r(15)),E=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={filter:"",order:"EARLIEST"},r.onFilterChange=function(e){r.setState({filter:e.target.value}),r.props.filterByWorkerName(e.target.value)},r.onOrderChange=function(e){var t=e.target.checked?"LATEST":"EARLIEST";r.setState({order:t}),r.props.orderByDate(t)},r}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(p.a,null,n.a.createElement(p.a.Row,null,n.a.createElement(p.a.Control,{type:"text",name:"filter",placeholder:"Filter by worker name...",onChange:this.onFilterChange,value:this.state.filter,id:"name-input"})),n.a.createElement(p.a.Row,{className:"toggle"},n.a.createElement(p.a.Label,{className:"toggle_label"},"Earliest first"),n.a.createElement(p.a.Switch,{id:"deadline-input",onChange:this.onOrderChange,label:"Latest first"})))}}]),t}(a.Component),k=(r(53),r(35)),w=r.n(k).a.create({baseURL:"https://rossino-work-orders.herokuapp.com/"}),g=r(13),b=r(36),v=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.worker,t=e.companyName,r=e.email,a=e.image,o=e.name,l=this.props.order.description,c=this.props.order.name,i=new Date(1e3*this.props.order.deadline);return i=i.toLocaleString(),n.a.createElement(f.a,{xs:12,sm:12,md:6,lg:4},n.a.createElement(g.a,{className:"deadline-card"},n.a.createElement(g.a.Header,null,c),n.a.createElement(g.a.Body,null,l),n.a.createElement(h.a,null,n.a.createElement(f.a,{xs:5,md:5},n.a.createElement(b.a,{src:a,roundedCircle:!0,className:"worker-image"})),n.a.createElement(f.a,{xs:7,md:7},n.a.createElement(g.a.Title,null,o),n.a.createElement(g.a.Text,null,t),n.a.createElement(g.a.Text,null,n.a.createElement("small",null,r)))),n.a.createElement(g.a.Footer,null,n.a.createElement("small",{className:"text-muted"},i))))}}]),t}(a.Component),y=r(39),O=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={orders:[],filter:"",workers:[]},r}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.get("work_orders").then((function(t){console.log(t);var r=t.data,a=e.state.workers,n={},o=[];r.forEach((function(e){void 0===a[e.workerId]&&void 0===n[e.workerId]&&(o.push(w.get("workers/".concat(e.workerId))),n[e.workerId]=e.workerId)})),Promise.all(o).then((function(t){var a=[];t.forEach((function(e){a[e.data.id]=e.data})),e.setState({orders:r,workers:a})})).catch((function(e){console.log("There was a problem fetching the workers: ".concat(e))}))})).catch((function(e){console.log("There was a problem fetching the orders: ".concat(e))}))}},{key:"render",value:function(){var e=this,t=this.state.orders.sort((function(t,r){return"EARLIEST"===e.props.order?t.deadline-r.deadline:r.deadline-t.deadline})).filter((function(t){return e.state.workers[t.workerId].name.toUpperCase().includes(e.props.filter.toUpperCase())}));return t.length>0?t.map((function(t){return n.a.createElement(v,{order:t,worker:e.state.workers[t.workerId],key:t.id})})):n.a.createElement(y.a,{variant:"danger"},"No work order matches your search criteria, please try with another name")}}]),t}(a.Component),j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).filterByWorkerName=function(t){e.setState({filter:t})},e.orderByDate=function(t){e.setState({order:t})},e.state={filter:"",order:"EARLIEST"},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(m.a,null,n.a.createElement(h.a,null,n.a.createElement(f.a,null,n.a.createElement(E,{filterByWorkerName:this.filterByWorkerName,orderByDate:this.orderByDate}))),n.a.createElement(h.a,null,n.a.createElement(O,{filter:this.state.filter,order:this.state.order})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.83848785.chunk.js.map